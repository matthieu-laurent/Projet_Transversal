//------------------------------------------------------------------------------------
// main.c
//------------------------------------------------------------------------------------
// AUTH: Groupe A1
// DATE: 10/03/2015
//
// Target: C8051F020
// Tool chain: KEIL Eval 'c'
//
//------------------------------------------------------------------------------------
// Includes
//------------------------------------------------------------------------------------//

#ifndef config_global
#define config_global
#include <config_global.h>
#endif				// Configuration globales du Âµprocesseur
#include <init_pca.h>
#include <fonctions_servo.h>

sbit P14=P1^4;
//------------------------------------------------------------------------------------
// Global CONSTANTS
//------------------------------------------------------------------------------------
/************ ServoMoteur ****************/



//------------------------------------------------------------------------------------
// MAIN Routine
//------------------------------------------------------------------------------------
void main (void) {
	unsigned long int i=0;
	char Angle=0;
	Init_Device();
	PCA_Init();
	EA=1; // Autorisation interruptions



	while (1) { // Boucle infinie
		
		for(i=0;i<500000;i++);
		CDE_Servo_V(Angle);
		Angle=Angle+10;
		if(Angle==90)
		{
			Angle=-90;
		}
		
	}
}
